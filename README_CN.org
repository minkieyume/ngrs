#+TITLE: README_CN
| [[README.org][English]] | 中文 |
* 介绍
NGRS 是 GNU Guile Scheme 的新 Rust 绑定。
* 概述
`ngrs` 提供了底层原始绑定和高级安全抽象，用于在 Rust 应用程序中嵌入 GNU Guile Scheme。本项目专注于内存安全和符合人体工程学的 API，实现 Scheme 脚本能力与 Rust 程序的无缝集成。
* 项目结构
- **ngrs** - 具有惯用接口的高级安全 Rust 封装，包含 *raw* 。
- **raw** - Guile C API 的底层 FFI 绑定
* 待办
- 为基础值提供绑定和转换。
* 快速开始
** 使用Ngrs
将这个添加到你的 *Cargo.toml* 文件中。
#+begin_src toml
[dependencies]
ngrs = "0.1"
#+end_src

** 例子
#+begin_src rust
use ngrs::{Runtime, with_guile};
fn main() {
    // 初始化 Guile
    Runtime::initialize();
      
    with_guile(|vm:Runtime| {
        // 你的代码写在这里
        println!("Hello guile from Rust!");
        let args = vec!["Test Guile".to_string(),];
        vm.shell(args);
    });
}
#+end_src
** 初始化
在使用任何 Guile 功能之前，必须先初始化 Guile 环境：
#+begin_src rust
use ngrs::Runtime
fn main() {
    // 初始化 Guile
    Runtime::initialize();
    // 你的代码写在这里
}
#+end_src
*** 使用 `init` 方式
这种方式的平台支持较少。
#+begin_src rust
use ngrs::Runtime;
fn main() {
    Runtime::initialize();
    let runtime = Runtime::new();
    // 依赖 Guile 的代码写在这里
}
#+end_src
*** 使用 `with_guile` 方式
如需更好地控制 Guile 上下文：
#+begin_src rust
use ngrs::with_guile;
fn main() {
    Runtime::initialize();
    with_guile(|vm:Runtime| {
        // 依赖 Guile 的代码写在这里
    });
}
#+end_src
